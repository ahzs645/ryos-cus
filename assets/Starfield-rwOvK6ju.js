import{r as v,j as X}from"./ui-core-D0pDhx0h.js";import"./react-CyQK0IK8.js";function R(x={}){const d=v.useRef(null),{width:i,height:r,position:M="fixed",className:b}=x;return v.useEffect(()=>{const t=d.current;if(!t)return;const n=t.getContext("2d");if(!n)return;let f;const a=[],s=typeof i=="number"&&typeof r=="number",y=s?Math.round(Math.max(120,Math.min(400,i*r/40))):400,z=s?10:15,k=256,h=()=>{typeof i=="number"&&typeof r=="number"?(t.width=Math.max(1,Math.floor(i)),t.height=Math.max(1,Math.floor(r))):(t.width=window.innerWidth,t.height=window.innerHeight)},S=()=>{a.length=0;for(let o=0;o<y;o++)a.push({x:Math.random()*t.width-t.width/2,y:Math.random()*t.height-t.height/2,z:Math.random()*t.width,prevX:0,prevY:0})},m=()=>{n.fillStyle="rgba(0, 0, 0, 0.2)",n.fillRect(0,0,t.width,t.height);const o=t.width/2,w=t.height/2;for(let c=0;c<a.length;c++){const e=a[c];e.z-=z,e.z<=0&&(e.x=Math.random()*t.width-o,e.y=Math.random()*t.height-w,e.z=t.width,e.prevX=0,e.prevY=0);const p=k/e.z,u=e.x*p+o,g=e.y*p+w;if(e.prevX!==0||e.prevY!==0){const l=Math.min(255,Math.floor((1-e.z/t.width)*255));n.strokeStyle=`rgb(${l}, ${l}, ${l})`,n.lineWidth=(1-e.z/t.width)*3,n.beginPath(),n.moveTo(e.prevX,e.prevY),n.lineTo(u,g),n.stroke()}e.prevX=u,e.prevY=g}f=requestAnimationFrame(m)};return h(),S(),n.fillStyle="black",n.fillRect(0,0,t.width,t.height),m(),s||window.addEventListener("resize",h),()=>{cancelAnimationFrame(f),s||window.removeEventListener("resize",h)}},[i,r]),X.jsx("canvas",{ref:d,className:`${M==="fixed"?"fixed":"absolute"} inset-0 w-full h-full ${b??""}`,style:{background:"black"}})}export{R as Starfield};
