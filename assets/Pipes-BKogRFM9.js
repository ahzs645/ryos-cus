import{r as p,j as R}from"./ui-core-D0pDhx0h.js";import"./react-CyQK0IK8.js";const z=["#FF4444","#44FF44","#4444FF","#FFFF44","#FF44FF","#44FFFF","#FF8844","#88FF44"];function T(b={}){const m=p.useRef(null),{width:c,height:h,position:w="fixed",className:P}=b;return p.useEffect(()=>{const i=m.current;if(!i)return;const e=i.getContext("2d");if(!e)return;let g;const l=[],s=typeof c=="number"&&typeof h=="number",S=s?4:6,u=s?16:30,d=s?5:8,f=()=>{typeof c=="number"&&typeof h=="number"?(i.width=Math.max(1,Math.floor(c)),i.height=Math.max(1,Math.floor(h))):(i.width=window.innerWidth,i.height=window.innerHeight)};f();const x=(t,o,n)=>{const r=(t-n)*.866,a=(t+n)*.5-o;return{x:i.width/2+r*u,y:i.height/2+a*u}},y=()=>{const t=Math.floor(Math.random()*10)-5,o=Math.floor(Math.random()*10)-5,n=Math.floor(Math.random()*10)-5;return{x:t,y:o,z:n,direction:Math.floor(Math.random()*6),color:z[Math.floor(Math.random()*z.length)],segments:[{x:t,y:o,z:n,dir:Math.floor(Math.random()*6)}]}};for(let t=0;t<3;t++)l.push(y());const v=t=>{const o=[{x:1,y:0,z:0},{x:-1,y:0,z:0},{x:0,y:1,z:0},{x:0,y:-1,z:0},{x:0,y:0,z:1},{x:0,y:0,z:-1}];Math.random()>.85&&(t.direction=Math.floor(Math.random()*6));const n=o[t.direction];return{x:t.x+n.x,y:t.y+n.y,z:t.z+n.z}},k=(t,o,n)=>{const r=x(t.x,t.y,t.z),a=x(o.x,o.y,o.z);e.strokeStyle=n,e.lineWidth=d,e.lineCap="round",e.beginPath(),e.moveTo(r.x,r.y),e.lineTo(a.x,a.y),e.stroke(),e.strokeStyle="rgba(255,255,255,0.3)",e.lineWidth=d/3,e.beginPath(),e.moveTo(r.x-2,r.y-2),e.lineTo(a.x-2,a.y-2),e.stroke()},C=(t,o)=>{const n=x(t.x,t.y,t.z),r=e.createRadialGradient(n.x-3,n.y-3,0,n.x,n.y,d);r.addColorStop(0,"rgba(255,255,255,0.5)"),r.addColorStop(.5,o),r.addColorStop(1,"rgba(0,0,0,0.3)"),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,d/1.5,0,Math.PI*2),e.fill()};let F=0;const M=()=>{if(F++,e.fillStyle="rgba(0, 0, 0, 0.02)",e.fillRect(0,0,i.width,i.height),F%3===0){for(const t of l){const o=v(t);if(Math.abs(o.x)>8||Math.abs(o.y)>8||Math.abs(o.z)>8){Object.assign(t,y());continue}k({x:t.x,y:t.y,z:t.z},o,t.color),C(o,t.color),t.segments.push({...o,dir:t.direction}),t.x=o.x,t.y=o.y,t.z=o.z,t.segments.length>100&&t.segments.shift()}l.length<S&&Math.random()>.99&&l.push(y())}g=requestAnimationFrame(M)};return e.fillStyle="black",e.fillRect(0,0,i.width,i.height),M(),s||window.addEventListener("resize",f),()=>{cancelAnimationFrame(g),s||window.removeEventListener("resize",f)}},[c,h]),R.jsx("canvas",{ref:m,className:`${w==="fixed"?"fixed":"absolute"} inset-0 w-full h-full ${P??""}`,style:{background:"black"}})}export{T as Pipes};
